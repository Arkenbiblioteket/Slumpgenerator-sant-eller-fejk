<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>AI och bluffar - lär dig se skillnad!</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    color: #222;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    text-align: center;
    width: 90%;
    max-width: 900px;
    padding: 20px;
  }
  .page { display: none; }
  .active { display: block; }
  img {
    max-width: 100%;
    border-radius: 15px;
    cursor: pointer;
    margin-top: 20px;
  }
  .text-box {
    font-size: 1.15em;
    margin-top: 15px;
  }
  #summaryPage {
    text-align: center;
    padding: 30px;
    background: linear-gradient(135deg,#fceabb,#f8b500);
    border-radius: 20px;
    display: none;
  }
  #summaryPage.active { display: block; }
  #summaryPage h1 {
    font-size: 2.2em;
    margin-bottom: 20px;
  }
  #summaryPage p {
    font-size: 1.1em;
    margin-bottom: 15px;
  }
  #summaryPage ul {
    text-align: left;
    display: inline-block;
    max-width: 600px;
    font-size: 1.05em;
    line-height: 1.6;
  }
  /* Videostil + knapp */
  #player {
    margin: 0 auto;
    margin-top: 20px;
    max-width: 100%;
    width: 560px;
    height: 315px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  }
  #continueBtn {
    display: none;
    margin-top: 12px;
    padding: 10px 18px;
    border-radius: 12px;
    border: none;
    font-size: 1em;
    cursor: pointer;
    box-shadow: 0 4px 10px rgba(0,0,0,0.12);
    background: linear-gradient(180deg,#4CAF50,#388E3C);
    color: white;
  }
  /* Responsiv */
  @media (max-width: 600px) {
    #player { width: 100%; height: calc(100% * 9 / 16); }
    iframe { width:100%; height:100%; }
  }
</style>
</head>
<body>
<div class="container">

  <!-- Hundarna -->
  <div id="hundPage" class="page active">
    <p class="text-box">Klicka på hundarna för att börja spelet!</p>
    <img src="hundar.jpg" id="hundarImg" alt="Hundar">
  </div>

  <!-- Händer -->
  <div id="handPage" class="page">
    <p class="text-box">Bra! Klicka på händerna för att gå vidare.</p>
    <img src="händer.jpg" id="händerImg" alt="Händer">
  </div>

  <!-- Tjejerna -->
  <div id="tjejerPage" class="page">
    <p class="text-box">Klicka på tjejerna för nästa steg.</p>
    <img src="Tjejer.jpg" id="tjejerImg" alt="Tjejer">
  </div>

  <!-- Video-sida (YouTube IFrame API används för att kunna känna av avslut och uppspelning) -->
  <div id="videoPage" class="page">
    <p class="text-box">Titta på videon om fake news. När du spelat den visas en knapp för att fortsätta — eller så går vi automatiskt vidare när videon är slut.</p>
    <div id="player"></div>
    <button id="continueBtn" aria-label="Fortsätt till quiz">Klicka här för att gå vidare</button>
  </div>

  <!-- Quiz bild -->
  <div id="quizPage" class="page">
    <p class="text-box">Klicka på bilden för att gå vidare till Aftonbladet-quizet!</p>
    <img src="quiz.jpg" id="quizImg" alt="Quiz">
  </div>

  <!-- Sammanfattning / rolig avslutning -->
  <div id="summaryPage">
    <h1>🎉 Grattis, du har klarat allt! 🎉</h1>
    <p>Du har lärt dig massor om hur man ser vad som är riktigt<br> och vad som kan vara bluff eller AI-genererat! 💡</p>
    <ul>
      <li>👀 Var alltid nyfiken och tänk kritiskt när du ser bilder och filmer.</li>
      <li>🔍 Kontrollera alltid källan innan du litar på något.</li>
      <li>🚫 Klicka aldrig på länkar från okända eller konstiga meddelanden.</li>
      <li>🤝 Lita på personer och konton du känner igen.</li>
      <li>✨ Ha kul med teknik, men tänk efter innan du delar eller tror på allt du ser!</li>
    </ul>
    <p>Nu kan du göra bättre och smarta val online! 🌟💪</p>
  </div>

</div>

<!-- Scripts längst ner -->
<script>
  // SIDHANTERING
  const hundPage = document.getElementById('hundPage');
  const handPage = document.getElementById('handPage');
  const tjejerPage = document.getElementById('tjejerPage');
  const videoPage = document.getElementById('videoPage');
  const quizPage = document.getElementById('quizPage');
  const summaryPage = document.getElementById('summaryPage');

  const hundarImg = document.getElementById('hundarImg');
  const händerImg = document.getElementById('händerImg');
  const tjejerImg = document.getElementById('tjejerImg');
  const quizImg = document.getElementById('quizImg');

  hundarImg.addEventListener('click', () => {
    hundPage.classList.remove('active');
    handPage.classList.add('active');
  });

  händerImg.addEventListener('click', () => {
    handPage.classList.remove('active');
    tjejerPage.classList.add('active');
  });

  tjejerImg.addEventListener('click', () => {
    tjejerPage.classList.remove('active');
    videoPage.classList.add('active');
    // om spelaren är redo kan vi scrolla till den (bra för mobil)
    const el = document.getElementById('player');
    if (el) el.scrollIntoView({behavior: 'smooth', block: 'center'});
  });

  quizImg.addEventListener('click', () => {
    // öppna quiz i ny flik (extern länk)
    window.open('https://www.aftonbladet.se/nyheter/kolumnister/a/QMlWGq/martin-schori-kan-du-skilja-ai-fran-akta-har-kan-du-testa-dig', '_blank');
    // visa sammanfattning i spelet
    quizPage.classList.remove('active');
    summaryPage.classList.add('active');
  });

  // --- YouTube IFrame API setup ---
  // Ladda API
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);

  var player;
  var videoSeen = false;
  var continueBtn = document.getElementById('continueBtn');

  // Denna funktion anropas av YouTube API när scriptet är klart
  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '315',
      width: '560',
      videoId: '9nz-vprp6l0', // din video
      playerVars: {
        controls: 1,
        rel: 0,
        modestbranding: 1
      },
      events: {
        'onReady': onPlayerReady,
        'onStateChange': onPlayerStateChange
      }
    });
  }

  function onPlayerReady(event) {
    // Ingen autoplay — användaren startar videon själv.
    // Vi visar fortsätt-knappen först när videon spelats (eller när spelningen startar).
    continueBtn.style.display = 'none';
  }

  function onPlayerStateChange(event) {
    // event.data: YT.PlayerState.*
    const YT_PLAYING = 1;
    const YT_ENDED = 0;

    if (event.data === YT_PLAYING) {
      // användaren har startat videon minst en gång
      videoSeen = true;
      continueBtn.style.display = 'inline-block';
    }

    if (event.data === YT_ENDED) {
      // videon slut => gå automatiskt vidare
      proceedToQuiz();
    }
  }

  // När användaren klickar på Fortsätt-knappen -> gå vidare
  continueBtn.addEventListener('click', proceedToQuiz);

  function proceedToQuiz() {
    // stoppa videon om den spelar
    try {
      if (player && player.stopVideo) player.stopVideo();
    } catch(e) { /* tyst fel om något oväntat */ }

    videoPage.classList.remove('active');
    quizPage.classList.add('active');
  }

  // Spara att användaren kan hoppa vidare med knapp även om de inte vill se klart
  // (videoSeen kommer bli true vid uppspelningstart och visa knappen).
</script>
</body>
</html>
