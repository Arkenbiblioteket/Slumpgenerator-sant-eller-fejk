<!DOCTYPE html>
<html lang="sv">
<head>
<meta charset="UTF-8">
<title>AI och bluffar - lär dig se skillnad!</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    color: #222;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }
  .container {
    text-align: center;
    width: 90%;
    max-width: 900px;
    padding: 20px;
  }
  .page { display: none; }
  .active { display: block; }
  img {
    max-width: 100%;
    border-radius: 15px;
    cursor: pointer;
    margin-top: 20px;
  }
  .text-box {
    font-size: 1.15em;
    margin-top: 15px;
  }
  #summaryPage {
    text-align: center;
    padding: 30px;
    background: linear-gradient(135deg,#fceabb,#f8b500);
    border-radius: 20px;
    display: none;
  }
  #summaryPage.active { display: block; }
  #summaryPage h1 {
    font-size: 2.2em;
    margin-bottom: 20px;
  }
  #summaryPage p {
    font-size: 1.1em;
    margin-bottom: 15px;
  }
  #summaryPage ul {
    text-align: left;
    display: inline-block;
    max-width: 600px;
    font-size: 1.05em;
    line-height: 1.6;
  }
  #player {
    margin: 0 auto;
    margin-top: 20px;
    max-width: 100%;
    width: 560px;
    height: 315px;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 6px 18px rgba(0,0,0,0.12);
  }
  @media (max-width: 600px) {
    #player { width: 100%; height: calc(100% * 9 / 16); }
    iframe { width:100%; height:100%; }
  }
</style>
</head>
<body>
<div class="container">

  <!-- Hundarna -->
  <div id="hundPage" class="page active">
    <p class="text-box">Klicka på hundarna för att börja spelet!</p>
    <img src="hundar.jpg" id="hundarImg" alt="Hundar">
  </div>

  <!-- Händer -->
  <div id="handPage" class="page">
    <p class="text-box">Bra! Klicka på händerna för att gå vidare.</p>
    <img src="händer.jpg" id="händerImg" alt="Händer">
  </div>

  <!-- Tjejerna -->
  <div id="tjejerPage" class="page">
    <p class="text-box">Klicka på tjejerna för nästa steg.</p>
    <img src="Tjejer.jpg" id="tjejerImg" alt="Tjejer">
  </div>

  <!-- Video-sida -->
  <div id="videoPage" class="page">
    <p class="text-box">Titta på videon om fake news. När den har spelats 5 gånger kan du klicka på den för att gå vidare till quizet.</p>
    <div id="player"></div>
  </div>

  <!-- Quiz bild -->
  <div id="quizPage" class="page">
    <p class="text-box">Klicka på bilden för att gå vidare till Aftonbladet-quizet!</p>
    <img src="quiz.jpg" id="quizImg" alt="Quiz">
  </div>

  <!-- Sammanfattning -->
  <div id="summaryPage">
    <h1>🎉 Grattis, du har klarat allt! 🎉</h1>
    <p>Du har lärt dig massor om hur man ser vad som är riktigt<br> och vad som kan vara bluff eller AI-genererat! 💡</p>
    <ul>
      <li>👀 Var alltid nyfiken och tänk kritiskt när du ser bilder och filmer.</li>
      <li>🔍 Kontrollera alltid källan innan du litar på något.</li>
      <li>🚫 Klicka aldrig på länkar från okända eller konstiga meddelanden.</li>
      <li>🤝 Lita på personer och konton du känner igen.</li>
      <li>✨ Ha kul med teknik, men tänk efter innan du delar eller tror på allt du ser!</li>
    </ul>
    <p>Nu kan du göra bättre och smarta val online! 🌟💪</p>
  </div>

</div>

<script>
  // SIDHANTERING
  const hundPage = document.getElementById('hundPage');
  const handPage = document.getElementById('handPage');
  const tjejerPage = document.getElementById('tjejerPage');
  const videoPage = document.getElementById('videoPage');
  const quizPage = document.getElementById('quizPage');
  const summaryPage = document.getElementById('summaryPage');

  const hundarImg = document.getElementById('hundarImg');
  const händerImg = document.getElementById('händerImg');
  const tjejerImg = document.getElementById('tjejerImg');
  const quizImg = document.getElementById('quizImg');

  hundarImg.addEventListener('click', () => {
    hundPage.classList.remove('active');
    handPage.classList.add('active');
  });

  händerImg.addEventListener('click', () => {
    handPage.classList.remove('active');
    tjejerPage.classList.add('active');
  });

  tjejerImg.addEventListener('click', () => {
    tjejerPage.classList.remove('active');
    videoPage.classList.add('active');
    const el = document.getElementById('player');
    if (el) el.scrollIntoView({behavior: 'smooth', block: 'center'});
  });

  quizImg.addEventListener('click', () => {
    window.open('https://www.aftonbladet.se/nyheter/kolumnister/a/QMlWGq/martin-schori-kan-du-skilja-ai-fran-akta-har-kan-du-testa-dig', '_blank');
    quizPage.classList.remove('active');
    summaryPage.classList.add('active');
  });

  // --- YouTube IFrame API setup ---
  var tag = document.createElement('script');
  tag.src = "https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);

  var player;
  var playCount = 0;   
  var maxPlays = 5;    

  function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
      height: '315',
      width: '560',
      videoId: '9nz-vprp6l0',
      playerVars: {
        controls: 1,
        rel: 0,
        modestbranding: 1
      },
      events: {
        'onStateChange': onPlayerStateChange
      }
    });
  }

  function onPlayerStateChange(event) {
    const YT_ENDED = 0;

    if (event.data === YT_ENDED) {
      playCount++;
      if (playCount >= maxPlays) {
        // Efter 5 gånger -> gör videon klickbar
        document.getElementById('player').style.cursor = "pointer";
        document.getElementById('player').addEventListener('click', proceedToQuiz);
      }
    }
  }

  function proceedToQuiz() {
    try {
      if (player && player.stopVideo) player.stopVideo();
    } catch(e) {}
    videoPage.classList.remove('active');
    quizPage.classList.add('active');
  }
</script>
</body>
</html>
